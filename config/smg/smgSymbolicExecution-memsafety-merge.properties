# This file is part of CPAchecker,
# a tool for configurable software verification:
# https://cpachecker.sosy-lab.org
#
# SPDX-FileCopyrightText: 2007-2025 Dirk Beyer <https://www.sosy-lab.org>
#
# SPDX-License-Identifier: Apache-2.0

# ------------------------------------------------------------------
# SMGv2 w symbolic execution and memorysafety specification with merge
# (based on Predators join). Uses DFS for better states to merge.
# ------------------------------------------------------------------

# Default resource limits
#include ../includes/resource-limits.properties

#include ../includes/smg/smgSymbolicExecution-memSafety.properties

specification = ../specification/memorysafety.spc

# This configuration is used when verifying with memsafety properties
memorysafety.config = smgSymbolicExecution-memsafety-merge.properties

# Enable merge op
cpa.smg2.merge = PREDATOR-MERGE

# Smaller lists are easier to merge
cpa.smg2.abstraction.listAbstractionMinimumLengthThreshold = 3

# Better finding of abstracted lists in stop
cpa.smg2.merge.useMergeForAbstractionDetectionInStopOperator = true

# Prevent the merge of two abstract states where one of them
# already has at least one child state.
# Needed when merging, irrelevant else.
cpa.arg.lateMerge = PREVENT

# DFS is better when merging
# Reverse post order is also helpful sometimes
[analysis.traversal]
order               = dfs
useReversePostorder = false
useCallstack        = false
