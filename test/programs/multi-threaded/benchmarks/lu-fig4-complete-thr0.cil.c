/* Generated by CIL v. 1.3.7 */
/* print_CIL_Input is true */

#line 71 "/usr/include/assert.h"
extern  __attribute__((__nothrow__, __noreturn__)) void __assert_fail(char const   *__assertion ,
                                                                      char const   *__file ,
                                                                      unsigned int __line ,
                                                                      char const   *__function ) ;
#line 4 "lu-fig4-complete-thr0.c"
int __START_ASYNC__  =    0;
#line 5 "lu-fig4-complete-thr0.c"
int __COUNT__  =    0;
#line 29
extern int ( /* missing proto */  puts)() ;
#line 69
__inline int PBReadSync(int i ) ;
#line 8 "lu-fig4-complete-thr0.c"
void main(int fd , int bytes , int op ) 
{ int refNum ;
  int err ;
  int pbAsync_pb ;
  int me_io_pending ;
  int doingAsync ;
  long __cil_tmp9 ;

  {
#line 18
  if (refNum >= 0) {
#line 18
    if (refNum < 3) {
#line 22
      if (refNum == 0) {
        goto switch_0_0;
      } else {
#line 27
        if (refNum == 1) {
          goto switch_0_1;
        } else {
#line 28
          if (refNum == 2) {
            goto switch_0_1;
          } else {
#line 20
            if (0) {
              switch_0_0: /* CIL Label */ 
#line 24
              err = -1;
              goto ErrorExit;
              goto switch_0_break;
              switch_0_1: /* CIL Label */ 
              switch_0_2: /* CIL Label */ 
              {
#line 29
              puts();
              }
              goto switch_0_break;
            } else {
              switch_0_break: /* CIL Label */ ;
            }
          }
        }
      }
#line 33
      return;
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
#line 37
    doingAsync = 0;
#line 46
    if (op == 1) {
      {
#line 52
      __cil_tmp9 = (long )bytes;
#line 52
      if (__cil_tmp9 > 20480L) {
#line 54
        doingAsync = 1;
#line 55
        __START_ASYNC__ = 1;
#line 56
        if (__COUNT__ == 0) {
#line 57
          me_io_pending = 1;
#line 58
          __COUNT__ = __COUNT__ + 1;
        } else {
          {
#line 60
          __assert_fail("0", "lu-fig4-complete-thr0.c", 60U, "main");
          }
        }
      } else {
        {
#line 67
        me_io_pending = 0;
#line 69
        err = PBReadSync(pbAsync_pb);
        }
#line 70
        if (err != 0) {
#line 70
          if (err != -1) {
            goto ErrorExit;
          } else {

          }
        } else {

        }
      }
      }
    } else {
#line 76
      doingAsync = 1;
#line 77
      me_io_pending = 1;
    }
#line 83
    if (doingAsync) {

    } else {

    }
  }
#line 88
  if (err != 0) {
    goto ErrorExit;
  } else {

  }
#line 91
  if (err != 0) {
#line 91
    if (err != -1) {
      goto ErrorExit;
    } else {

    }
  } else {

  }
#line 94
  return;
  ErrorExit: 
#line 98
  return;
}
}
#line 101 "lu-fig4-complete-thr0.c"
__inline int PBReadSync(int i ) 
{ 

  {
#line 101
  return (0);
}
}
