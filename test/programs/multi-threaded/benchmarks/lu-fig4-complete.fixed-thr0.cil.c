/* Generated by CIL v. 1.3.7 */
/* print_CIL_Input is true */

#line 71 "/usr/include/assert.h"
extern  __attribute__((__nothrow__, __noreturn__)) void __assert_fail(char const   *__assertion ,
                                                                      char const   *__file ,
                                                                      unsigned int __line ,
                                                                      char const   *__function ) ;
#line 4 "lu-fig4-complete.fixed-thr0.c"
int __START_ASYNC__  =    0;
#line 5 "lu-fig4-complete.fixed-thr0.c"
int __COUNT__  =    0;
#line 29
extern int ( /* missing proto */  puts)() ;
#line 68
__inline int PBReadSync(int i ) ;
#line 8 "lu-fig4-complete.fixed-thr0.c"
void main(int fd , int bytes , int op ) 
{ int refNum ;
  int err ;
  int pbAsync_pb ;
  int me_io_pending ;
  int doingAsync ;
  long __cil_tmp9 ;

  {
#line 18
  if (refNum >= 0) {
#line 18
    if (refNum < 3) {
#line 22
      if (refNum == 0) {
        goto switch_0_0;
      } else {
#line 27
        if (refNum == 1) {
          goto switch_0_1;
        } else {
#line 28
          if (refNum == 2) {
            goto switch_0_1;
          } else {
#line 20
            if (0) {
              switch_0_0: /* CIL Label */ 
#line 24
              err = -1;
              goto ErrorExit;
              goto switch_0_break;
              switch_0_1: /* CIL Label */ 
              switch_0_2: /* CIL Label */ 
              {
#line 29
              puts();
              }
              goto switch_0_break;
            } else {
              switch_0_break: /* CIL Label */ ;
            }
          }
        }
      }
#line 33
      return;
    } else {
      goto _L;
    }
  } else {
    _L: /* CIL Label */ 
#line 37
    doingAsync = 0;
#line 46
    if (op == 1) {
      {
#line 52
      __cil_tmp9 = (long )bytes;
#line 52
      if (__cil_tmp9 > 20480L) {
#line 54
        doingAsync = 1;
#line 55
        if (__COUNT__ == 0) {
#line 56
          me_io_pending = 1;
#line 57
          __COUNT__ = __COUNT__ + 1;
        } else {
          {
#line 59
          __assert_fail("0", "lu-fig4-complete.fixed-thr0.c", 59U, "main");
          }
        }
#line 61
        __START_ASYNC__ = 1;
      } else {
        {
#line 66
        me_io_pending = 0;
#line 68
        err = PBReadSync(pbAsync_pb);
        }
#line 69
        if (err != 0) {
#line 69
          if (err != -1) {
            goto ErrorExit;
          } else {

          }
        } else {

        }
      }
      }
    } else {
#line 75
      doingAsync = 1;
#line 76
      me_io_pending = 1;
    }
#line 82
    if (doingAsync) {

    } else {

    }
  }
#line 87
  if (err != 0) {
    goto ErrorExit;
  } else {

  }
#line 90
  if (err != 0) {
#line 90
    if (err != -1) {
      goto ErrorExit;
    } else {

    }
  } else {

  }
#line 93
  return;
  ErrorExit: 
#line 97
  return;
}
}
#line 100 "lu-fig4-complete.fixed-thr0.c"
__inline int PBReadSync(int i ) 
{ 

  {
#line 100
  return (0);
}
}
#line 106 "lu-fig4-complete.fixed-thr0.c"
__inline int _PR_MD_GET_INTSOFF(void) 
{ 

  {
#line 106
  return (0);
}
}
