<?xml version="1.0"?>

<!-- This file is part of CPAchecker, -->
<!-- a tool for configurable software verification: -->
<!-- https://cpachecker.sosy-lab.org -->
<!-- -->
<!-- SPDX-FileCopyrightText: 2025 Dirk Beyer <https://www.sosy-lab.org> -->
<!-- -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<!DOCTYPE benchmark PUBLIC "+//IDN sosy-lab.org//DTD BenchExec benchmark 1.0//EN" "http://www.sosy-lab.org/benchexec/benchmark-1.0.dtd">
<benchmark tool="cpachecker" timelimit="900s" memlimit="15GB" cpuCores="2">

    <option name="--heap">10000M</option>
    <option name="--timelimit">900s</option>
    <option name="--option">analysis.programTransformation=SEQUENTIALIZATION</option>

    <!-- linkReduction -->
    <tasks name="ConcurrencySafety-MemSafety-link">
        <includesfile>../sv-benchmarks/c/Concurrency.set</includesfile>
        <propertyfile>../sv-benchmarks/c/properties/valid-memsafety.prp</propertyfile>
    </tasks>

    <!-- reduceUntilConflict -->
    <tasks name="ConcurrencySafety-MemSafety-reduceUntilConflict-access-hex">
        <includesfile>../sv-benchmarks/c/Concurrency.set</includesfile>
        <propertyfile>../sv-benchmarks/c/properties/valid-memsafety.prp</propertyfile>
        <option name="--option">analysis.algorithm.MPOR.bitVectorEncoding=HEXADECIMAL</option>
        <option name="--option">analysis.algorithm.MPOR.reduceUntilConflict=true</option>
        <option name="--option">analysis.algorithm.MPOR.reductionMode=ACCESS_ONLY</option>
    </tasks>
    <tasks name="ConcurrencySafety-MemSafety-reduceUntilConflict-access-sparse">
        <includesfile>../sv-benchmarks/c/Concurrency.set</includesfile>
        <propertyfile>../sv-benchmarks/c/properties/valid-memsafety.prp</propertyfile>
        <option name="--option">analysis.algorithm.MPOR.bitVectorEncoding=SPARSE</option>
        <option name="--option">analysis.algorithm.MPOR.reduceUntilConflict=true</option>
        <option name="--option">analysis.algorithm.MPOR.reductionMode=ACCESS_ONLY</option>
    </tasks>
    <tasks name="ConcurrencySafety-MemSafety-reduceUntilConflict-readwrite-hex">
        <includesfile>../sv-benchmarks/c/Concurrency.set</includesfile>
        <propertyfile>../sv-benchmarks/c/properties/valid-memsafety.prp</propertyfile>
        <option name="--option">analysis.algorithm.MPOR.bitVectorEncoding=HEXADECIMAL</option>
        <option name="--option">analysis.algorithm.MPOR.reduceUntilConflict=true</option>
        <option name="--option">analysis.algorithm.MPOR.reductionMode=READ_AND_WRITE</option>
    </tasks>
    <tasks name="ConcurrencySafety-MemSafety-reduceUntilConflict-readwrite-sparse">
        <includesfile>../sv-benchmarks/c/Concurrency.set</includesfile>
        <propertyfile>../sv-benchmarks/c/properties/valid-memsafety.prp</propertyfile>
        <option name="--option">analysis.algorithm.MPOR.bitVectorEncoding=SPARSE</option>
        <option name="--option">analysis.algorithm.MPOR.reduceUntilConflict=true</option>
        <option name="--option">analysis.algorithm.MPOR.reductionMode=READ_AND_WRITE</option>
    </tasks>

    <!-- reduceLastThreadOrder -->
    <tasks name="ConcurrencySafety-MemSafety-reduceLastThreadOrder-access-hex">
        <includesfile>../sv-benchmarks/c/Concurrency.set</includesfile>
        <propertyfile>../sv-benchmarks/c/properties/valid-memsafety.prp</propertyfile>
        <option name="--option">analysis.algorithm.MPOR.bitVectorEncoding=HEXADECIMAL</option>
        <option name="--option">analysis.algorithm.MPOR.reduceLastThreadOrder=true</option>
        <option name="--option">analysis.algorithm.MPOR.reductionMode=ACCESS_ONLY</option>
    </tasks>
    <tasks name="ConcurrencySafety-MemSafety-reduceLastThreadOrder-access-sparse">
        <includesfile>../sv-benchmarks/c/Concurrency.set</includesfile>
        <propertyfile>../sv-benchmarks/c/properties/valid-memsafety.prp</propertyfile>
        <option name="--option">analysis.algorithm.MPOR.bitVectorEncoding=SPARSE</option>
        <option name="--option">analysis.algorithm.MPOR.reduceLastThreadOrder=true</option>
        <option name="--option">analysis.algorithm.MPOR.reductionMode=ACCESS_ONLY</option>
    </tasks>
    <tasks name="ConcurrencySafety-MemSafety-reduceLastThreadOrder-readwrite-hex">
        <includesfile>../sv-benchmarks/c/Concurrency.set</includesfile>
        <propertyfile>../sv-benchmarks/c/properties/valid-memsafety.prp</propertyfile>
        <option name="--option">analysis.algorithm.MPOR.bitVectorEncoding=HEXADECIMAL</option>
        <option name="--option">analysis.algorithm.MPOR.reduceLastThreadOrder=true</option>
        <option name="--option">analysis.algorithm.MPOR.reductionMode=READ_AND_WRITE</option>
    </tasks>
    <tasks name="ConcurrencySafety-MemSafety-reduceLastThreadOrder-readwrite-sparse">
        <includesfile>../sv-benchmarks/c/Concurrency.set</includesfile>
        <propertyfile>../sv-benchmarks/c/properties/valid-memsafety.prp</propertyfile>
        <option name="--option">analysis.algorithm.MPOR.bitVectorEncoding=SPARSE</option>
        <option name="--option">analysis.algorithm.MPOR.reduceLastThreadOrder=true</option>
        <option name="--option">analysis.algorithm.MPOR.reductionMode=READ_AND_WRITE</option>
    </tasks>

    <!-- reduceUntilConflict then reduceLastThreadOrder -->
    <tasks name="ConcurrencySafety-MemSafety-bitVector-then-reduceLastThreadOrder-access-hex">
        <includesfile>../sv-benchmarks/c/Concurrency.set</includesfile>
        <propertyfile>../sv-benchmarks/c/properties/valid-memsafety.prp</propertyfile>
        <option name="--option">analysis.algorithm.MPOR.bitVectorEncoding=HEXADECIMAL</option>
        <option name="--option">analysis.algorithm.MPOR.reduceUntilConflict=true</option>
        <option name="--option">analysis.algorithm.MPOR.reduceLastThreadOrder=true</option>
        <option name="--option">analysis.algorithm.MPOR.reductionMode=ACCESS_ONLY</option>
        <option name="--option">analysis.algorithm.MPOR.reductionOrder=CONFLICT_THEN_LAST_THREAD</option>
    </tasks>
    <tasks name="ConcurrencySafety-MemSafety-bitVector-then-reduceLastThreadOrder-access-sparse">
        <includesfile>../sv-benchmarks/c/Concurrency.set</includesfile>
        <propertyfile>../sv-benchmarks/c/properties/valid-memsafety.prp</propertyfile>
        <option name="--option">analysis.algorithm.MPOR.bitVectorEncoding=SPARSE</option>
        <option name="--option">analysis.algorithm.MPOR.reduceUntilConflict=true</option>
        <option name="--option">analysis.algorithm.MPOR.reduceLastThreadOrder=true</option>
        <option name="--option">analysis.algorithm.MPOR.reductionMode=ACCESS_ONLY</option>
        <option name="--option">analysis.algorithm.MPOR.reductionOrder=CONFLICT_THEN_LAST_THREAD</option>
    </tasks>
    <tasks name="ConcurrencySafety-MemSafety-bitVector-then-reduceLastThreadOrder-readwrite-hex">
        <includesfile>../sv-benchmarks/c/Concurrency.set</includesfile>
        <propertyfile>../sv-benchmarks/c/properties/valid-memsafety.prp</propertyfile>
        <option name="--option">analysis.algorithm.MPOR.bitVectorEncoding=HEXADECIMAL</option>
        <option name="--option">analysis.algorithm.MPOR.reduceUntilConflict=true</option>
        <option name="--option">analysis.algorithm.MPOR.reduceLastThreadOrder=true</option>
        <option name="--option">analysis.algorithm.MPOR.reductionMode=READ_AND_WRITE</option>
        <option name="--option">analysis.algorithm.MPOR.reductionOrder=CONFLICT_THEN_LAST_THREAD</option>
    </tasks>
    <tasks name="ConcurrencySafety-MemSafety-bitVector-then-reduceLastThreadOrder-readwrite-sparse">
        <includesfile>../sv-benchmarks/c/Concurrency.set</includesfile>
        <propertyfile>../sv-benchmarks/c/properties/valid-memsafety.prp</propertyfile>
        <option name="--option">analysis.algorithm.MPOR.bitVectorEncoding=SPARSE</option>
        <option name="--option">analysis.algorithm.MPOR.reduceUntilConflict=true</option>
        <option name="--option">analysis.algorithm.MPOR.reduceLastThreadOrder=true</option>
        <option name="--option">analysis.algorithm.MPOR.reductionMode=READ_AND_WRITE</option>
        <option name="--option">analysis.algorithm.MPOR.reductionOrder=CONFLICT_THEN_LAST_THREAD</option>
    </tasks>

    <!-- reduceLastThreadOrder then reduceUntilConflict -->
    <tasks name="ConcurrencySafety-MemSafety-conflict-then-reduceUntilConflict-access-hex">
        <includesfile>../sv-benchmarks/c/Concurrency.set</includesfile>
        <propertyfile>../sv-benchmarks/c/properties/valid-memsafety.prp</propertyfile>
        <option name="--option">analysis.algorithm.MPOR.bitVectorEncoding=HEXADECIMAL</option>
        <option name="--option">analysis.algorithm.MPOR.reduceUntilConflict=true</option>
        <option name="--option">analysis.algorithm.MPOR.reduceLastThreadOrder=true</option>
        <option name="--option">analysis.algorithm.MPOR.reductionMode=ACCESS_ONLY</option>
        <option name="--option">analysis.algorithm.MPOR.reductionOrder=LAST_THREAD_THEN_CONFLICT</option>
    </tasks>
    <tasks name="ConcurrencySafety-MemSafety-conflict-then-reduceUntilConflict-access-sparse">
        <includesfile>../sv-benchmarks/c/Concurrency.set</includesfile>
        <propertyfile>../sv-benchmarks/c/properties/valid-memsafety.prp</propertyfile>
        <option name="--option">analysis.algorithm.MPOR.bitVectorEncoding=SPARSE</option>
        <option name="--option">analysis.algorithm.MPOR.reduceUntilConflict=true</option>
        <option name="--option">analysis.algorithm.MPOR.reduceLastThreadOrder=true</option>
        <option name="--option">analysis.algorithm.MPOR.reductionMode=ACCESS_ONLY</option>
        <option name="--option">analysis.algorithm.MPOR.reductionOrder=LAST_THREAD_THEN_CONFLICT</option>
    </tasks>
    <tasks name="ConcurrencySafety-MemSafety-conflict-then-reduceUntilConflict-readwrite-hex">
        <includesfile>../sv-benchmarks/c/Concurrency.set</includesfile>
        <propertyfile>../sv-benchmarks/c/properties/valid-memsafety.prp</propertyfile>
        <option name="--option">analysis.algorithm.MPOR.bitVectorEncoding=HEXADECIMAL</option>
        <option name="--option">analysis.algorithm.MPOR.reduceUntilConflict=true</option>
        <option name="--option">analysis.algorithm.MPOR.reduceLastThreadOrder=true</option>
        <option name="--option">analysis.algorithm.MPOR.reductionMode=READ_AND_WRITE</option>
        <option name="--option">analysis.algorithm.MPOR.reductionOrder=LAST_THREAD_THEN_CONFLICT</option>
    </tasks>
    <tasks name="ConcurrencySafety-MemSafety-conflict-then-reduceUntilConflict-readwrite-sparse">
        <includesfile>../sv-benchmarks/c/Concurrency.set</includesfile>
        <propertyfile>../sv-benchmarks/c/properties/valid-memsafety.prp</propertyfile>
        <option name="--option">analysis.algorithm.MPOR.bitVectorEncoding=SPARSE</option>
        <option name="--option">analysis.algorithm.MPOR.reduceUntilConflict=true</option>
        <option name="--option">analysis.algorithm.MPOR.reduceLastThreadOrder=true</option>
        <option name="--option">analysis.algorithm.MPOR.reductionMode=READ_AND_WRITE</option>
        <option name="--option">analysis.algorithm.MPOR.reductionOrder=LAST_THREAD_THEN_CONFLICT</option>
    </tasks>

</benchmark>
